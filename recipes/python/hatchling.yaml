inherit: ["python3::build"]

metaEnvironment:
    PKG_VERSION: "1.28.0"
    PKG_LICENSE: "MIT"

checkoutSCM:
    scm: url
    url: ${GITHUB_MIRROR}/pypa/hatch/archive/refs/tags/hatchling-v${PKG_VERSION}.tar.gz
    digestSHA256: 3a52e40675ab341eab0720fe22cbd82b6a0d18a6445e2ce6bb9aebb831ca79cd
    stripComponents: 1

depends: &deps
    - python::pathspec
    - python::pluggy
    - python::trove-classifiers

buildScript: |
    python3Build $1/backend/

packageScript: |
    python3PackageTgt

# Beware: the python3::build class adds build time dependencies!
provideDeps: *deps
