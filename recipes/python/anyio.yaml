inherit: ["python3::build"]

metaEnvironment:
    PKG_VERSION: "4.12.0"
    PKG_LICENSE: "MIT"

checkoutSCM:
    scm: url
    url: ${GITHUB_MIRROR}/agronholm/anyio/archive/refs/tags/${PKG_VERSION}.tar.gz
    digestSHA256: 1c14d1faa8bd5f42014ffe1b64df12369d9c84a2d3c192b773eef0f54892b0f5
    stripComponents: 1

depends:
    - python::setuptools-scm
    - python::typing_extensions
    - python::idna

buildVars: [PKG_VERSION]
buildSetup: |
    export SETUPTOOLS_SCM_PRETEND_VERSION="${PKG_VERSION}"
buildScript: |
    python3Build $1

packageScript: |
    python3PackageTgt

provideDeps: ['*typing_extensions', '*idna']
